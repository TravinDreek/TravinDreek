<!DOCTYPE html>
<head>
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Peaksol's Web Router</title>
	<style type="text/css">
		@keyframes fadeIn {
			from { opacity: 0 }
			50% { opacity: 0}
			to { opacity: 1 }
		}

		body {
			background-color: #21252B;
			font-family: sans-serif;
			color: #ABB2BF;
			font-size: large;
		}

		#title {
			text-align: center;
			font-size: xx-large;
			color: #FFFFFF;
			padding-bottom: 16px;
		}

		#msgbox {
			animation: fadeIn 2s;
			background-color: #282C34;
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			padding: 32px;
			border-radius: 16px;
			border-style: solid;
			border-width: 1px;
			border-color: #23A8F2;
			box-shadow: 0 0 8px #23A8F2;
		}
	</style>
	<script type="text/javascript">
		var hosts = [
			{
				source: ['qq', 'q'],
				target: 'https://jq.qq.com/?_wv=1027&k=5NRFBFD',
				displayname: 'QQ'
			},
			{
				source: ['bilibili', 'bili', 'b'],
				target: 'https://space.bilibili.com/6933622',
				displayname: 'Bilibili'
			},
			{
				source: ['zhihu', 'z'],
				target: 'https://www.zhihu.com/people/peaksol',
				displayname: 'Zhihu'
			},
			{
				source: ['discord', 'disc', 'd'],
				target: 'https://discord.gg/gCs88pR',
				displayname: 'Discord'
			},
			{
				source: ['github', 'gh', 'g'],
				target: 'https://www.github.com/TravinDreek/{path}',
				displayname: 'GitHub'
			},
			{
				source: ['youtube', 'yt', 'y'],
				target: 'https://www.youtube.com/channel/UCBYbRRwkPHw9w3vPT2B_pfQ',
				displayname: 'YouTube'
			},
			{
				source: ['twitter', 't'],
				target: 'https://twitter.com/PeaksolM',
				displayname: 'Twitter'
			},
			{
				source: ['badlion', 'bl'],
				target: 'https://www.badlion.net/u/Peaksol/{path}',
				displayname: 'Badlion'
			},
			{
				source: ['weibo', 'w'],
				target: 'https://weibo.com/MCFLY233',
				displayname: 'Weibo'
			},
			{
				source: ['tieba'],
				target: 'https://tieba.baidu.com/home/main?un=Peaksol',
				displayname: 'Baidu Tieba'
			},
			{
				source: ['reddit', 'r'],
				target: 'https://www.reddit.com/user/Peaksol',
				displayname: 'Reddit'
			},
			{
				source: ['spigotmc', 'spigot', 's'],
				target: 'https://www.spigotmc.org/members/travindreek.523965/',
				displayname: 'SpigotMC'
			}
		];

		window.onload = function() {
			var slash = window.location.hash.indexOf('/');
			var source = (slash == -1 ? window.location.hash.substring(1) : window.location.hash.substring(1, slash));
			var path = (slash == -1 ? '' : window.location.hash.substr(slash + 1));
			var host;
			console.log(slash);
			console.log(slash == -1);
			console.log(path);
			for(var i in hosts)
				if(hosts[i].source.includes(source))
					host = hosts[i];
			if(host) {
				document.getElementById('title').innerText = 'Redirecting...';
				document.getElementById('message').innerHTML = 'Please stand by while you are being redirected to <a style="color: #23A8F2" href="' + host.target.replace('{path}', path) + '">' + host.displayname + '</a>.'
			}
			else {
				document.getElementById('title').innerText = 'Not Found';
				document.getElementById('message').innerHTML = 'This shortcut is not found on my Web Router. You may want to go back to <a style="color: #23A8F2" href="https://peaksol.fun">my homepage</a>.';
			}
		}
	</script>
</head>

<body>
	<div id="msgbox">
		<div id="title">JavaScript Support Required!</div><div id="message">The redirection requires JavaScript to continue, which is not supported by your browser or blocked on this page.</div>
	</div>
</body>